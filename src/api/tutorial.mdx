---
title: Create and List Teams with the Sentry API
sidebar_order: 10
---

This guide walks you through the basics of authenticating with Sentry's API and using the API to list the teams in an organization and create a new team.

## Prerequisites

- A Sentry account with an organization-level role of Admin or higher <TODO SHANA confirm>

You can use a free [Sentry developer account](https://sentry.io/pricing/) for this tutorial.

## Get an Sentry Authentication Token

You must pass an authentication token along with your API calls to authenticate with Sentry. Auth tokens can be associated with a user or with an organization. We recommend using tokens associated with an organization when possible, because user tokens stop working once a user is removed from an organization.

For this guide, we will generate an organization auth token by creating an internal integration.

[Internal Integrations](/product/integrations/integration-platform/internal-integration/) can be used to create custom Sentry integrations for your organization. However, they can also be used as a tool to create and manage your organization auth tokens.

1. Open [sentry.io](https://sentry.io/)

1. Press "Settings" in the left menu to open the **Organization Settings** page.

1. Press "Custom Integrations" in the left side panel to create a new internal integration and org-level auth token.

1. Press the "Create New Integration" button.

1. Make sure "Internal Integration" is selected in the modal and press "Next".

1. Enter a name for your integration.

1. Under "Permissions" select "Read & Write" in the "Organization" dropdown.

    Creating a new team requires an auth token with organization write permissions. Listing teams only requires read permissions.

1. Press "Save Changes".

1. Scroll down to the bottom of the page and copy the generated token under "Tokens".

    You'll need this token for all your future API calls.

## List an Organization's Teams

First, you will use the [List an Organization's Teams](https://docs.sentry.io/api/teams/list-an-organizations-teams/) API to list all the teams in our organization.

### Find your organization ID

The list teams API requires you to pass in the an organization id to list teams for.

You can find your organization ID in the browser URL of your Sentry instance. For example, https://test-org.sentry.io/.

### Run the command

1. Open your terminal.

1. Save your auth token and your organization ID as environment variables for ease of use. Paste the following commands into your terminal, replacing `<organization_id>` with your organization ID and `<auth_token>` with the auth token you copied previously:

    ```bash
    export SENTRY_ORG_ID=<organization_id>
    export SENTRY_AUTH_TOKEN=<auth_token>
    ```

1. Paste the following cURL command into your terminal:

    ```bash
    curl "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/?detailed=0" \
        -H 'Authorization: Bearer '$SENTRY_AUTH_TOKEN
    ```

1. Here's an example of what the output of the command should be, for an organization that has a team called "test-team":

    ```json
    [
        {
            "id": "4505449964175360",
            "slug": "test-team",
            "name": "test-team",
            "dateCreated": "2023-06-30T18:44:59.196618Z",
            "isMember": false,
            "teamRole": null,
            "flags": {
                "idp:provisioned": false
            },
            "access": [
                "alerts:read",
                "team:read",
                "member:read",
                "org:read",
                "project:releases",
                "project:read",
                "event:write",
                "event:read"
            ],
            "hasAccess": true,
            "isPending": false,
            "memberCount": 1,
            "avatar": {
                "avatarType": "letter_avatar",
                "avatarUuid": null
            },
            "orgRole": null,
        }
    ]
    ```

    The output gives you details about the teams within the specified organization.

1. [Optional] To also list information about the projects associated with each team you can use the set the `detailed` query parameter to `1`:

    ```bash
    curl "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/?detailed=1" \
        -H 'Authorization: Bearer '$SENTRY_AUTH_TOKEN
    ```

    Here's an example of what that output might look like if "test-team" has one associated project named "test-project":

    ```json
    [
        {
        ...
            "orgRole": null,
            "externalTeams": [],
            "projects": [
                {
                    "id": "4505506997403648",
                    "slug": "test-project",
                    "name": "test-project",
                    "platform": "javascript-react",
                    "dateCreated": "2023-07-10T20:29:17.426792Z",
                    "isBookmarked": false,
                    "isMember": false,
                    "features": [
                        "alert-filters",
                        "minidump",
                        "race-free-group-creation",
                        "similarity-indexing",
                        "similarity-view",
                        "releases"
                    ],
                    "firstEvent": "2023-07-10T20:39:35.811000Z",
                    "firstTransactionEvent": true,
                    "access": [],
                    "hasAccess": true,
                    "hasMinifiedStackTrace": true,
                    "hasMonitors": false,
                    "hasProfiles": false,
                    "hasReplays": true,
                    "hasSessions": true,
                    "isInternal": false,
                    "isPublic": false,
                    "avatar": {
                        "avatarType": "letter_avatar",
                        "avatarUuid": null
                    },
                    "color": "#bf853f",
                    "status": "active"
                }
            ]
        }
    ]
    ```

    If your organization has enough teams, the API will return paginated results. See our docs on [Pagination](/api/pagination/) to learn how to handle paginated results.

## Create a Team

## List an Organization's Teams
