<Note>

Ruby profiling beta is available starting in SDK version `5.9.0`.

</Note>

## Configure

We use the [stackprof gem](https://github.com/tmm1/stackprof) to collect profiles for Ruby.

First add `stackprof` to your `Gemfile` and make sure it is loaded before `sentry-ruby`.

```ruby
# Gemfile

gem 'stackprof'
gem 'sentry-ruby'
```

Then, make sure both `traces_sample_rate` and `profiles_sample_rate` are set and non-zero in your Sentry initializer.

<SignInNote />

```ruby
# config/initializers/sentry.rb

Sentry.init do |config|
config.dsn = "___PUBLIC_DSN___"
config.traces_sample_rate = 1.0
config.profiles_sample_rate = 1.0
end
```

<Note>

The <PlatformIdentifier name="profiles_sample_rate" /> setting is _relative_ to the <PlatformIdentifier name="traces_sample_rate" /> setting.

</Note>
